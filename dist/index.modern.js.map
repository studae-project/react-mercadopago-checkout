{"version":3,"file":"index.modern.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport {\n  Checkout, CheckoutParams, Locale,\n  // eslint-disable-next-line no-unused-vars\n  MercadoPagoCheckoutProps\n} from '../src/typings'\n\ndeclare global {\n  class MercadoPago {\n    constructor(publicKey: string, options?: { locale: Locale })\n    checkout: (params: CheckoutParams) => Checkout\n  }\n}\n\nconst MercadoPagoCheckout: React.FC<MercadoPagoCheckoutProps> = ({\n  publicKey,\n  preferenceId: id,\n  options\n}) => {\n  useEffect(() => {\n    const script = document.createElement('script')\n    script.src = 'https://sdk.mercadopago.com/js/v2'\n    script.onload = () => {\n      const mercadopago = new MercadoPago(\n        publicKey,\n        options?.locale ? { locale: options.locale } : undefined\n      )\n      mercadopago.checkout({\n        preference: { id },\n        autoOpen: true,\n        theme: options?.theme\n      })\n    }\n\n    document.body.appendChild(script)\n\n    return () => {\n      for (let i = document.body.children.length - 1; i > document.body.children.length - 3; i--)\n        document.body.removeChild(document.body.children[i])\n      document.body.removeChild(script)\n    }\n  }, [])\n\n  return null\n}\n\nexport default MercadoPagoCheckout"],"names":["MercadoPagoCheckout","publicKey","id","preferenceId","options","useEffect","script","document","createElement","src","onload","mercadopago","MercadoPago","locale","undefined","checkout","preference","autoOpen","theme","body","appendChild","i","children","length","removeChild"],"mappings":";;AAcA,IAAMA,mBAAmB,GAAuC,SAA1DA,mBAA0D;MAC9DC,iBAAAA;MACcC,UAAdC;MACAC,eAAAA;AAEAC,EAAAA,SAAS,CAAC;AACR,QAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAF,IAAAA,MAAM,CAACG,GAAP,GAAa,mCAAb;;AACAH,IAAAA,MAAM,CAACI,MAAP,GAAgB;AACd,UAAMC,WAAW,GAAG,IAAIC,WAAJ,CAClBX,SADkB,EAElBG,OAAO,SAAP,IAAAA,OAAO,WAAP,IAAAA,OAAO,CAAES,MAAT,GAAkB;AAAEA,QAAAA,MAAM,EAAET,OAAO,CAACS;AAAlB,OAAlB,GAA+CC,SAF7B,CAApB;AAIAH,MAAAA,WAAW,CAACI,QAAZ,CAAqB;AACnBC,QAAAA,UAAU,EAAE;AAAEd,UAAAA,EAAE,EAAFA;AAAF,SADO;AAEnBe,QAAAA,QAAQ,EAAE,IAFS;AAGnBC,QAAAA,KAAK,EAAEd,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEc;AAHG,OAArB;AAKD,KAVD;;AAYAX,IAAAA,QAAQ,CAACY,IAAT,CAAcC,WAAd,CAA0Bd,MAA1B;AAEA,WAAO;AACL,WAAK,IAAIe,CAAC,GAAGd,QAAQ,CAACY,IAAT,CAAcG,QAAd,CAAuBC,MAAvB,GAAgC,CAA7C,EAAgDF,CAAC,GAAGd,QAAQ,CAACY,IAAT,CAAcG,QAAd,CAAuBC,MAAvB,GAAgC,CAApF,EAAuFF,CAAC,EAAxF;AACEd,QAAAA,QAAQ,CAACY,IAAT,CAAcK,WAAd,CAA0BjB,QAAQ,CAACY,IAAT,CAAcG,QAAd,CAAuBD,CAAvB,CAA1B;AADF;;AAEAd,MAAAA,QAAQ,CAACY,IAAT,CAAcK,WAAd,CAA0BlB,MAA1B;AACD,KAJD;AAKD,GAtBQ,EAsBN,EAtBM,CAAT;AAwBA,SAAO,IAAP;AACD,CA9BD;;;;"}